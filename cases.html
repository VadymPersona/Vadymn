<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Major Shop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background-color: #000; color: white; 
            font-family: -apple-system, sans-serif;
            overflow: hidden; /* –û—Ç–∫–ª—é—á–∞–µ–º –æ–±—â–∏–π —Å–∫—Ä–æ–ª–ª, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π */
            height: 100vh;
        }

        /* --- –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –í–ï–†–¢–ò–ö–ê–õ–¨–ù–û–ì–û –°–ö–†–û–õ–õ–ê --- */
        .scroll-wrapper {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory; /* –í–∫–ª—é—á–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏–ª–∏–ø–∞–Ω–∏—è */
            scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
            padding-top: 130px; /* –û—Ç—Å—Ç—É–ø –ø–æ–¥ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∞–ø–∫—É */
            padding-bottom: 140px; /* –£–≤–µ–ª–∏—á–µ–Ω –æ—Ç—Å—Ç—É–ø –ø–æ–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏—é */
        }
        .scroll-wrapper::-webkit-scrollbar { display: none; }

        .snap-item {
            scroll-snap-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ */
            min-height: 70vh; /* –í—ã—Å–æ—Ç–∞ –æ–±–ª–∞—Å—Ç–∏ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ */
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .case-card {
            width: 100%;
            height: 100%;
            max-height: 500px;
            background: linear-gradient(180deg, #0f0f0f 0%, #050505 100%);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .case-card:active { transform: scale(0.96); opacity: 0.9; }
        
        /* –°—Ç–∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */
        .case-card.locked {
            opacity: 0.5;
            filter: grayscale(1);
            pointer-events: none;
        }
        
        /* –°–≤–µ—á–µ–Ω–∏—è */
        .glow-blue { box-shadow: 0 0 40px rgba(0, 122, 255, 0.15); border-color: rgba(0, 122, 255, 0.2); }
        .glow-red { box-shadow: 0 0 40px rgba(255, 50, 50, 0.2); border-color: rgba(255, 50, 50, 0.3); }
        .glow-ice { box-shadow: 0 0 40px rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.15); }
        .glow-purple { box-shadow: 0 0 40px rgba(168, 85, 247, 0.15); border-color: rgba(168, 85, 247, 0.2); }

        .ice-shadow { filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.4)); }
        .blue-shadow { filter: drop-shadow(0 0 20px rgba(0, 122, 255, 0.4)); }
        .red-shadow { filter: drop-shadow(0 0 20px rgba(255, 50, 50, 0.4)); }
        .purple-shadow { filter: drop-shadow(0 0 25px rgba(168, 85, 247, 0.4)); }

        .nav-blur {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes spin-snow {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }
        .animate-snowflake { animation: spin-snow 10s linear infinite; }

        @keyframes float-chest {
            0%, 100% { transform: translateY(0px) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }
        .animate-chest { animation: float-chest 4s ease-in-out infinite; }

        /* –õ–µ–Ω—Ç–∞ Drops */
        .feed-container {
            display: flex;
            overflow-x: auto;
            gap: 12px;
            scrollbar-width: none;
        }
        .feed-container::-webkit-scrollbar { display: none; }

        .feed-item {
            flex: 0 0 auto;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.4s ease-out;
        }
    </style>
</head>
<body>

    <div class="fixed top-0 left-0 right-0 z-50 bg-black/50 backdrop-blur-lg p-6 pb-2">
        <div class="mb-4 flex justify-between items-end">
            <div>
                <h1 class="text-3xl font-black italic tracking-tighter uppercase text-white">–ö–µ–π—Å—ã</h1>
                <p class="text-zinc-500 text-[10px] font-bold uppercase tracking-widest">Live Drops</p>
            </div>
            <div class="flex items-center gap-1.5 mb-1">
                <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                <span class="text-[9px] text-green-500 font-black uppercase">Online</span>
            </div>
        </div>
        <div id="live-feed" class="feed-container"></div>
    </div>

    <div class="scroll-wrapper">
        
        <div class="snap-item">
            <div onclick="window.location.href='ice.html'" class="case-card glow-ice rounded-[45px] p-8 relative overflow-hidden">
                <div>
                    <div class="flex items-center gap-2 mb-2">
                        <h2 class="text-2xl font-black italic uppercase leading-none text-white">Ice Arena</h2>
                        <span class="bg-blue-600 text-[9px] px-2 py-0.5 rounded font-black uppercase tracking-tighter shadow-lg shadow-blue-500/40">NEW</span>
                    </div>
                    <p class="text-xs text-zinc-400 font-bold uppercase tracking-tighter">–ë–∏—Ç–≤–∞ –∑–∞ MJ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                </div>
                
                <div class="flex justify-center items-center py-6 animate-snowflake ice-shadow">
                    <svg width="100" height="100" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2V22M12 2L15 5M12 2L9 5M12 22L15 19M12 22L9 19M22 12H2M22 12L19 15M22 12L19 9M2 12L5 15M2 12L5 9M19.07 19.07L4.93 4.93M19.07 19.07L19.07 15.54M19.07 19.07L15.54 19.07M4.93 4.93L4.93 8.46M4.93 4.93L8.46 4.93M19.07 4.93L4.93 19.07M19.07 4.93L15.54 4.93M19.07 4.93L19.07 8.46M4.93 19.07L8.46 19.07M4.93 19.07L4.93 15.54" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>

                <div class="flex items-center justify-center gap-2 bg-white/10 w-full py-4 rounded-2xl border border-white/10">
                    <span class="text-sm font-black text-blue-400 uppercase tracking-widest">–ò–≥—Ä–∞—Ç—å</span>
                </div>
            </div>
        </div>

        <div class="snap-item">
            <div onclick="window.location.href='inventory.html'" class="case-card glow-purple rounded-[45px] p-8 relative overflow-hidden">
                <div>
                    <h2 class="text-2xl font-black italic uppercase leading-none mb-2 text-white">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h2>
                    <p class="text-xs text-zinc-400 font-bold uppercase tracking-tighter">–¢–≤–æ–∏ NFT –∏ –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã–µ –ø—Ä–∏–∑—ã</p>
                </div>
                
                <div class="flex justify-center items-center py-6 purple-shadow">
                    <img src="https://cdn3d.iconscout.com/3d/premium/thumb/treasure-chest-5361391-4491957.png" 
                         class="w-40 h-40 object-contain animate-chest" 
                         alt="Inventory Chest">
                </div>

                <div class="flex items-center justify-center gap-2 bg-purple-600/20 w-full py-4 rounded-2xl border border-purple-500/30">
                    <span class="text-sm font-black text-purple-400 uppercase tracking-widest text-center">–ü—Ä–æ—Å–º–æ—Ç—Ä</span>
                </div>
            </div>
        </div>

        <div class="snap-item">
            <div onclick="window.location.href='case_open.html'" class="case-card glow-blue rounded-[45px] p-8 relative overflow-hidden">
                <div>
                    <h2 class="text-2xl font-black italic uppercase leading-none mb-2 text-white">–í—Å–µ –∏–ª–∏<br>–ù–∏—á–µ–≥–æ</h2>
                    <p class="text-xs text-blue-500 font-bold uppercase tracking-tighter">–û—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω</p>
                </div>
                
                <div class="flex justify-center items-center py-6 blue-shadow">
                    <img src="case.png" class="w-36 h-36 object-contain" onerror="this.src='https://giftsbattle.com/cases/Porsche_911'">
                </div>

                <div class="flex items-center justify-center gap-2 bg-white/5 w-full py-4 rounded-2xl border border-white/5">
                    <span class="text-lg font-bold text-white">0 ‚≠ê</span>
                </div>
            </div>
        </div>

        <div class="snap-item">
            <div id="daily-card" onclick="openDaily()" class="case-card glow-red rounded-[45px] p-8 relative overflow-hidden">
                <div>
                    <h2 class="text-2xl font-black italic uppercase leading-none mb-2 text-red-500">Daily Free</h2>
                    <p id="daily-status" class="text-xs text-zinc-400 font-bold uppercase tracking-tighter">–ü—Ä–æ–≤–µ—Ä–∫–∞...</p>
                </div>
                
                <div class="flex justify-center items-center py-6 red-shadow">
                    <img src="free.png" class="w-36 h-36 object-contain" onerror="this.src='https://cdn-icons-png.flaticon.com/512/2854/2854580.png'">
                </div>

                <div id="daily-badge" class="flex items-center justify-center gap-2 bg-red-500/20 w-full py-4 rounded-2xl border border-red-500/20">
                    <span class="text-sm font-black text-red-500 uppercase tracking-widest">–û—Ç–∫—Ä—ã—Ç—å</span>
                </div>
            </div>
        </div>

    </div>

    <div class="fixed bottom-0 left-0 right-0 h-20 nav-blur flex justify-around items-center px-8 z-50">
        <a href="index.html" class="flex flex-col items-center gap-1 opacity-40">
            <span class="text-2xl">üè†</span>
            <span class="text-[10px] font-medium uppercase tracking-widest text-zinc-400">–ì–ª–∞–≤–Ω–∞—è</span>
        </a>
        <div class="flex flex-col items-center gap-1 text-blue-500">
            <span class="text-2xl">üì¶</span>
            <span class="text-[10px] font-bold uppercase tracking-widest">–ö–µ–π—Å—ã</span>
        </div>
        <a href="profile.html" class="flex flex-col items-center gap-1 opacity-40">
            <span class="text-2xl">üë§</span>
            <span class="text-[10px] font-medium uppercase tracking-widest text-zinc-400">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </a>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        const feed = document.getElementById('live-feed');
        const COOLDOWN_TIME = 24 * 60 * 60 * 1000;

        const NFTS = [
            { img: 'https://nft.fragment.com/gift/candycane-6790.large.jpg', link: 'https://t.me/nft/CandyCane-6790' },
            { img: 'https://nft.fragment.com/gift/skullflower-6790.large.jpg', link: 'https://t.me/nft/SkullFlower-6790' },
            { img: 'https://nft.fragment.com/gift/instantramen-6790.large.jpg', link: 'https://t.me/nft/InstantRamen-6790' }
        ];

        function renderDrop(data, animate = true) {
            const item = document.createElement('div');
            item.className = 'feed-item';
            if (!animate) item.style.animation = 'none';
            let prizeHtml = data.type === 'nft' 
                ? `<a href="${data.link}"><img src="${data.img}" class="w-8 h-8 rounded-lg border border-red-500/30"></a>`
                : `<div class="bg-yellow-500/10 px-2 py-0.5 rounded-full"><span class="text-[10px] font-black text-yellow-500">${data.val}‚≠ê</span></div>`;

            item.innerHTML = `<img src="https://ui-avatars.com/api/?name=${data.user.replace('@','')}&background=random" class="w-7 h-7 rounded-full border border-white/10">
                <div class="flex flex-col"><span class="text-[9px] font-bold text-zinc-400 leading-none mb-1">${data.user}</span>${prizeHtml}</div>`;
            feed.prepend(item);
        }

        function personovichCycle() {
            const nft = NFTS[Math.floor(Math.random() * NFTS.length)];
            renderDrop({ user: '@personovich', type: 'nft', img: nft.img, link: nft.link });
            setTimeout(personovichCycle, Math.random() * (240000 - 120000) + 120000);
        }

        function updateDailyCooldown() {
            const lastOpen = localStorage.getItem('last_daily_open');
            const card = document.getElementById('daily-card');
            const status = document.getElementById('daily-status');
            if (lastOpen) {
                const diff = Date.now() - parseInt(lastOpen);
                if (diff < COOLDOWN_TIME) {
                    card.classList.add('locked');
                    const rem = COOLDOWN_TIME - diff;
                    status.innerText = `${Math.floor(rem/3600000)}—á ${Math.floor((rem%3600000)/60000)}–º`;
                    return;
                }
            }
            card.classList.remove('locked');
            status.innerText = "–î–æ—Å—Ç—É–ø–µ–Ω —Å–µ–π—á–∞—Å!";
        }

        function openDaily() {
            tg.HapticFeedback.impactOccurred('medium');
            window.location.href = 'free_case.html';
        }

        updateDailyCooldown();
        personovichCycle();
        setInterval(updateDailyCooldown, 60000);
        tg.ready();
        tg.expand();
    </script>
</body>
</html>